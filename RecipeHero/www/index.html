<!DOCTYPE html>
<html>
<head>
    <!--
        Customize the content security policy in the meta tag below as needed. Add 'unsafe-inline' to default-src to enable inline JavaScript.
        For details, see http://go.microsoft.com/fwlink/?LinkID=617521
    -->
    <link rel="stylesheet" href="../jquery.mobile-1.4.5.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.js"
            integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <title>RecipeHero</title>
    <script>
      
        var result = ""
        function myfunction() {
            var settings = {
                "async": true,
                "crossDomain": true,
                "url": "https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/findByIngredients?number=5&ranking=1&ignorePantry=false&ingredients=" + result,
                "method": "GET",
                "headers": {
                    "x-rapidapi-host": "spoonacular-recipe-food-nutrition-v1.p.rapidapi.com",
                    "x-rapidapi-key": "b1fabcb175msh0fc932651ba86a2p123d02jsn7de68217e81e"
                }
            }

            $.ajax(settings).done(function (response) {
                console.log(response);
            });
        }
   
          
        var query = '';
        var triggered = false;
        function addToList() {

            var txtToAdd = document.getElementById("enterIngredients").value,
            listNode = document.getElementById("list"),
            liNode = document.createElement("li"),
            txtNode = document.createTextNode(txtToAdd);
            liNode.innerText = txtNode.nodeValue;
            listNode.appendChild(liNode);
            query += txtToAdd + ',';
            var subquery = query.split(',');
            console.log(subquery);

         
            for (var i = 0; i < subquery.length; i++) {
              
                    result += subquery[i]+',' ;
            }
           
            console.log(result);
        
            txtToAdd.value = ""

        }
        function Clear() {
            result = '';
            listNode = document.getElementById("list");
      
        }
        function myfuncttion() {

        var y = document.getElementById(home).style.visibility = "hidden";
        
        var x = document.getElementById(Search_Results).style.visibility = "visible";
        }
    </script>
    
</head>
<body>
    <header data-role="header">
        <a href="#home">Recipe Hero</a>
        <nav data-role="navbar"></nav>
        <ul>
            <li><a href="#home">Recipe Hero</a></li>
            <!-- <li><a href="#results">Recipe Hero</a></li> -->
            <li><a href="#results">Past Seaches</a></li>
            <li><a href="#results">Favorites</a><</li>
            <li><a href="#results">Shopping List</a><</li>

            <li></li>
        </ul>
        <button class="ui-btn btn" type="submit" onclick="myfunction()">Home</button>

        <button class="ui-btn btn" type="submit" onclick="Clear()">ClearList</button>
        <button class="ui-btn btn" type="submit" onclick="Clear()">Back</button>
        <button class="ui-btn btn" type="submit" onclick="Clear()">Save</button>
        <button class="ui-btn btn" type="submit" onclick="Clear()">Favorite</button>
        <button class="ui-btn btn" type="submit" onclick="Clear()">Shopping List</button>
        <button class="ui-btn btn" type="submit" onclick="Clear()">Settings</button>


    </header>
  
    <section data-role="page" id="home">
        <div class="input">

            <h3>Enter Item:</h3>

            <input type="text" class="custinput" id="enterIngredients" placeholder="Enter shopping item..." autofocus>

            <button class="ui-btn btn" type="submit" onclick="addToList()">add</button>
            <button class="ui-btn btn" type="submit" onclick="myfunction()">Search</button>
            <ul id="list"></ul>
        </div>
        
    </section>
    <section style="visibility:hidden" id="Search_Results" class="result">

        <ul>
            <li>
                <div class="searchResultContainer">
                    <div>
                        <img src="images/10.jpg" />
                        <h3>An All American Burger</h3>
                        <p>
                            Combine first 5 ingredients, mixing lightly but thoroughly. Shape into 4 patties. Grill burgers, covered, on a greased rack over medium direct heat until a thermometer reads 160° and juices run clear, about 6 minutes on each side.
                        </p>
                    </div>
                </div>
            </li>


            <li>
                <div class="searchResultContainer">
                    <div>

                        <img src="images/3.jpg" alt="Alternate Text" />
                        <h3>Oven Roaseted Garlic Lasagna</h3>
                        <p>Roasted Garlic White Veggie Lasagna loaded with hearty vegetables and a super savory homemade roasted garlic white sauce. So delicious and fulfilling enough for even the meat eaters of the world! The instructions for Oven Roasting Garlic are attached below, but you should definitely check out this post for additional details! </p>
                    </div>
                </div>
            </li>

            <li>
                <div class="searchResultContainer">
                    <div>
                        <img src="images/9.jpg" alt="Alternate Text" />
                        <h3>The Linguini</h3>
                        <p>
                            For picky eaters, try serving this easy meat sauce over whimsically shaped pasta, like bow ties, rotini, or wagon wheels.
                        </p>
                    </div>
                </div>
            </li>
            <li>
                <div class="searchResultContainer">
                    <div>
                        <img src="images/2.jpg" alt="Alternate Text" />
                        <h3>Four Cheddar Cheeseburger Sphagetti</h3>
                        <p>Prepare spaghetti pasta according to package directions.</p>
                    </div>
                </div>
            </li>
        </ul>
    </section>
    

    
    
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="scripts/platformOverrides.js"></script>
    <script type="text/javascript" src="scripts/index.js"></script>
</body>
</html>
